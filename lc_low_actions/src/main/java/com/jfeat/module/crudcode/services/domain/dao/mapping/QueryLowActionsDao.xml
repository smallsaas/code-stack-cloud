<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jfeat.module.crudcode.services.domain.dao.QueryLowActionsDao">
    <sql id="Base_Column_List">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        lc_low_actions.id, lc_low_actions.title, lc_low_actions.type, lc_low_actions.path, lc_low_actions.request_api AS requestApi, lc_low_actions.request_refresh_api AS requestRefreshApi, lc_low_actions.request_method AS requestMethod, lc_low_actions.request_body AS requestBody, lc_low_actions.request_options AS requestOptions, lc_low_actions.page_id AS pageId, lc_low_actions.modal_title AS modalTitle, lc_low_actions.modal_width AS modalWidth, lc_low_actions.modal_layout AS modalLayout
    </sql>


    <select id="queryMasterModel" resultType="LowActionsModel">
       SELECT lc_low_actions.*
       FROM lc_low_actions
       WHERE lc_low_actions.id=#{id}
       GROUP BY lc_low_actions.id
    </select>


<!--    <select id="queryMasterModelList" resultMap="ActionItem">-->
<!--        SELECT-->
<!--            lc_low_actions.*,lc_modal_item_basic.*-->
<!--        FROM lc_low_actions-->
<!--        left join lc_modal_item_basic on lc_low_actions.id=lc_modal_item_basic.modal_id-->
<!--        LEFT JOIN lc_low_main_page ON lc_low_actions.page_id=lc_low_main_page.id-->
<!--        WHERE lc_low_main_page.id = #{masterId}-->
<!--    </select>-->

<!--    <resultMap id="ActionItem" type="LowActionsModel">-->
<!--        <id column="id" property="id" />-->
<!--        <result column="title" property="title" />-->
<!--        <result column="type" property="type" />-->
<!--        <result column="path" property="path" />-->
<!--        <result column="request_api" property="requestApi" />-->
<!--        <result column="request_refresh_api" property="requestRefreshApi" />-->
<!--        <result column="request_method" property="requestMethod" />-->
<!--        <result column="request_body" property="requestBody" />-->
<!--        <result column="request_options" property="requestOptions" />-->
<!--        <result column="page_id" property="pageId" />-->
<!--        <result column="modal_title" property="modalTitle" />-->
<!--        <result column="modal_width" property="modalWidth" />-->
<!--        <result column="modal_layout" property="modalLayout" />-->
<!--    <collection property="items" ofType="ModalItemBasic">-->

<!--        <result column="modal_items_layout" property="modalItemsLayout" />-->
<!--        <result column="modal_items_comp" property="modalItemsComp" />-->
<!--        <result column="modal_content_layout" property="modalContentLayout" />-->
<!--        <result column="modal_content_get_api" property="modalContentGetApi" />-->
<!--        <result column="modal_content_update_api" property="modalContentUpdateApi" />-->
<!--        <result column="modal_id" property="modalId" />-->
<!--        <result column="modal_content_create_api" property="modalContentCreateApi" />-->

<!--    </collection>-->
<!--    </resultMap>-->





    <select id="findLowActionsPage" resultType="LowActionsRecord" parameterType="LowActionsRecord">
        SELECT
        <include refid="Base_Column_List"/>


        FROM lc_low_actions


        WHERE 1=1


        <if test="record.id != null and record.id>0 ">
            AND lc_low_actions.id LIKE CONCAT('%',#{record.id},'%')
        </if>
        <if test="record.title != null and record.title!= ''">
            AND lc_low_actions.title LIKE CONCAT('%',#{record.title},'%')
        </if>
        <if test="record.type != null and record.type!= ''">
            AND lc_low_actions.type LIKE CONCAT('%',#{record.type},'%')
        </if>
        <if test="record.path != null and record.path!= ''">
            AND lc_low_actions.path LIKE CONCAT('%',#{record.path},'%')
        </if>


        <if test="record.requestApi != null and record.requestApi!= ''">
            AND lc_low_actions.request_api LIKE CONCAT('%',#{record.requestApi},'%')
        </if>


        <if test="record.requestRefreshApi != null and record.requestRefreshApi!= ''">
            AND lc_low_actions.request_refresh_api LIKE CONCAT('%',#{record.requestRefreshApi},'%')
        </if>


        <if test="record.requestMethod != null and record.requestMethod!= ''">
            AND lc_low_actions.request_method LIKE CONCAT('%',#{record.requestMethod},'%')
        </if>


        <if test="record.requestBody != null and record.requestBody!= ''">
            AND lc_low_actions.request_body LIKE CONCAT('%',#{record.requestBody},'%')
        </if>


        <if test="record.requestOptions != null and record.requestOptions!= ''">
            AND lc_low_actions.request_options LIKE CONCAT('%',#{record.requestOptions},'%')
        </if>


        <if test="record.pageId != null and record.pageId>0 ">
            AND lc_low_actions.page_id = #{record.pageId}
        </if>


        <if test="record.modalTitle != null and record.modalTitle!= ''">
            AND lc_low_actions.modal_title LIKE CONCAT('%',#{record.modalTitle},'%')
        </if>


        <if test="record.modalWidth != null and record.modalWidth>0 ">
            AND lc_low_actions.modal_width LIKE CONCAT('%',#{record.modalWidth},'%')
        </if>


        <if test="record.modalLayout != null and record.modalLayout!= ''">
            AND lc_low_actions.modal_layout LIKE CONCAT('%',#{record.modalLayout},'%')
        </if>

        <if test="startTime != null">
            <![CDATA[AND lc_low_actions.start_time >= DATE(#{startTime})]]>
        </if>
        <if test="endTime != null">
            <![CDATA[AND lc_low_actions.end_time <= DATE(#{endTime}]]>
        </if>
        <!--
    <if test="search != null and search != ''">
        OR lc_low_actions.name LIKE CONCAT('%',#{search},'%')
    </if>
    -->
    </select>
</mapper>